"use strict";(self.webpackChunktp_spring_batch=self.webpackChunktp_spring_batch||[]).push([[9671],{3905:function(e,t,n){n.d(t,{Zo:function(){return u},kt:function(){return d}});var a=n(67294);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function p(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var s=a.createContext({}),l=function(e){var t=a.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):o(o({},t),e)),n},u=function(e){var t=l(e.components);return a.createElement(s.Provider,{value:t},e.children)},m={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},c=a.forwardRef((function(e,t){var n=e.components,r=e.mdxType,i=e.originalType,s=e.parentName,u=p(e,["components","mdxType","originalType","parentName"]),c=l(n),d=r,k=c["".concat(s,".").concat(d)]||c[d]||m[d]||i;return n?a.createElement(k,o(o({ref:t},u),{},{components:n})):a.createElement(k,o({ref:t},u))}));function d(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var i=n.length,o=new Array(i);o[0]=c;var p={};for(var s in t)hasOwnProperty.call(t,s)&&(p[s]=t[s]);p.originalType=e,p.mdxType="string"==typeof e?e:r,o[1]=p;for(var l=2;l<i;l++)o[l]=n[l];return a.createElement.apply(null,o)}return a.createElement.apply(null,n)}c.displayName="MDXCreateElement"},59881:function(e,t,n){n.r(t),n.d(t,{frontMatter:function(){return p},contentTitle:function(){return s},metadata:function(){return l},toc:function(){return u},default:function(){return c}});var a=n(87462),r=n(63366),i=(n(67294),n(3905)),o=["components"],p={sidebar_position:1},s="Tutorial Intro",l={unversionedId:"intro",id:"intro",isDocsHomePage:!1,title:"Tutorial Intro",description:"Bienvenue \xe0 vous sur le tutoriel Spring Batch !",source:"@site/docs/intro.md",sourceDirName:".",slug:"/intro",permalink:"/docusaurus-test/docs/intro",editUrl:"https://github.com/GoroGoraK/docusaurus-test/docs/intro.md",tags:[],version:"current",sidebarPosition:1,frontMatter:{sidebar_position:1},sidebar:"tutorialSidebar",next:{title:"Structure du projet",permalink:"/docusaurus-test/docs/tutorial-init/structure-initialization"}},u=[{value:"Objectif global",id:"objectif-global",children:[]},{value:"Pr\xe9-requis",id:"pr\xe9-requis",children:[]},{value:"Un peu de th\xe9rie...",id:"un-peu-de-th\xe9rie",children:[{value:"Pourquoi Spring Batch",id:"pourquoi-spring-batch",children:[]},{value:"Fonctionnement de Spring Batch",id:"fonctionnement-de-spring-batch",children:[]}]},{value:"Et c&#39;est parti !",id:"et-cest-parti-",children:[]}],m={toc:u};function c(e){var t=e.components,p=(0,r.Z)(e,o);return(0,i.kt)("wrapper",(0,a.Z)({},m,p,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("h1",{id:"tutorial-intro"},"Tutorial Intro"),(0,i.kt)("p",null,"Bienvenue \xe0 vous sur le tutoriel ",(0,i.kt)("em",{parentName:"p"},"Spring Batch")," !"),(0,i.kt)("p",null,"Avant de parler tout de suite de technique (\ud83d\ude12), nous allons d\xe9finir l'objectif global de ce tutoriel\net nous assurer que que vous \xeates pr\xeat \xe0 en suivre les diff\xe9rentes \xe9tapes."),(0,i.kt)("p",null,"Puis nous aborderons th\xe9oriquement (\ud83d\ude29) le fonctionnement des batchs ",(0,i.kt)("em",{parentName:"p"},"Spring"),"."),(0,i.kt)("p",null,"Enfin, nous serons pr\xeat \xe0 mettre les mains dans le code \ud83d\ude03"),(0,i.kt)("div",{className:"admonition admonition-info alert alert--info"},(0,i.kt)("div",{parentName:"div",className:"admonition-heading"},(0,i.kt)("h5",{parentName:"div"},(0,i.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,i.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,i.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"}))),"info")),(0,i.kt)("div",{parentName:"div",className:"admonition-content"},(0,i.kt)("p",{parentName:"div"},"Ce contenu s'appuie en grande partie sur la ",(0,i.kt)("a",{parentName:"p",href:"https://docs.spring.io/spring-batch/docs/current/reference/html/index-single.html"},"documentation officielle de ",(0,i.kt)("em",{parentName:"a"},"Spring Batch")),"."),(0,i.kt)("p",{parentName:"div"},"N'h\xe9sitez pas \xe0 commenter, critiquer, am\xe9liorer, proposer des cas que vous aimeriez voir dans ce tutoriel en envoyant un mail ",(0,i.kt)("a",{parentName:"p",href:"mailto:gregory.lengagne@gmail.com?subject=%5BTuto%20SpringBatch%5D"},"ici")))),(0,i.kt)("h2",{id:"objectif-global"},"Objectif global"),(0,i.kt)("p",null,"L'objectif global de ce tutoriel est de pr\xe9senter le fonctionnement, ainsi qu'un ensemble de bonne pratique autour, du framework ",(0,i.kt)("em",{parentName:"p"},"Spring Batch"),"."),(0,i.kt)("p",null,"Pour cela, nous avoncerons pas \xe0 pas sur diff\xe9rents traitements que nous ferons \xe9voluer au fil des sections de ce tutoriel."),(0,i.kt)("p",null,"Pour cette partie d'introduction, nous nous contenterons que d'un minimum de th\xe9orie \ud83d\ude03."),(0,i.kt)("h2",{id:"pr\xe9-requis"},"Pr\xe9-requis"),(0,i.kt)("div",{className:"admonition admonition-caution alert alert--warning"},(0,i.kt)("div",{parentName:"div",className:"admonition-heading"},(0,i.kt)("h5",{parentName:"div"},(0,i.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,i.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},(0,i.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"}))),"Attention")),(0,i.kt)("div",{parentName:"div",className:"admonition-content"},(0,i.kt)("ul",{parentName:"div"},(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},"Vous disposez d'",(0,i.kt)("strong",{parentName:"p"},"un poste de d\xe9veloppement")," ",(0,i.kt)("em",{parentName:"p"},"Java")," r\xe9cent (",(0,i.kt)("strong",{parentName:"p"},"IDE")," (",(0,i.kt)("strong",{parentName:"p"},(0,i.kt)("em",{parentName:"strong"},"integrated development environment")),") : ",(0,i.kt)("a",{parentName:"p",href:"https://www.eclipse.org/downloads/"},(0,i.kt)("em",{parentName:"a"},"Eclipse"))," / ",(0,i.kt)("a",{parentName:"p",href:"https://www.jetbrains.com/idea/download/?fromIDE="},(0,i.kt)("em",{parentName:"a"},"IntelliJ")),", ",(0,i.kt)("a",{parentName:"p",href:"https://maven.apache.org/download.cgi?Preferred=ftp://ftp.osuosl.org/pub/apache/"},(0,i.kt)("em",{parentName:"a"},"Maven")),") ",(0,i.kt)("strong",{parentName:"p"},"correctement configur\xe9")," (variables d'environnement ou IDE configur\xe9 pour l'utilisation de maven et java).")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},"Une connaissance des basiques ",(0,i.kt)("strong",{parentName:"p"},(0,i.kt)("em",{parentName:"strong"},"Java"))," est primordiale (8+).")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},"Une connaissance des basiques de l'outils ",(0,i.kt)("strong",{parentName:"p"},(0,i.kt)("em",{parentName:"strong"},"Maven"))," est n\xe9cessaire (3.8.X+).")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},"Une connaissance des concepts objets ",(0,i.kt)("strong",{parentName:"p"},(0,i.kt)("em",{parentName:"strong"},"Spring"))," est souhaitable."))))),(0,i.kt)("h2",{id:"un-peu-de-th\xe9rie"},"Un peu de th\xe9rie..."),(0,i.kt)("h3",{id:"pourquoi-spring-batch"},"Pourquoi Spring Batch"),(0,i.kt)("p",null,"Le framework ",(0,i.kt)("em",{parentName:"p"},"Spring Batch")," offre un cadre de d\xe9veloppement ax\xe9 sur le ",(0,i.kt)("strong",{parentName:"p"},"traitement m\xe9tier")," plus ou moins complexe ",(0,i.kt)("strong",{parentName:"p"},"d'un large volume de donn\xe9es"),"."),(0,i.kt)("p",null,"Son fonctionnement s'appuie sur diff\xe9rents outils qu'il convient de connaitre et d'apprendre \xe0 utiliser,\nc'est ce que nous allons explorer tout au long de ce tutoriel."),(0,i.kt)("h3",{id:"fonctionnement-de-spring-batch"},"Fonctionnement de Spring Batch"),(0,i.kt)("p",null,"Afin de comprendre comment fonctionne ",(0,i.kt)("em",{parentName:"p"},"Spring Batch"),", on peut s'appuyer sur ce sch\xe9ma tr\xe8s simplifi\xe9 :"),(0,i.kt)("table",null,(0,i.kt)("thead",{parentName:"table"},(0,i.kt)("tr",{parentName:"thead"},(0,i.kt)("th",{parentName:"tr",align:"center"},(0,i.kt)("strong",{parentName:"th"},(0,i.kt)("img",{alt:"Spring Batch Diagram",src:n(48216).Z}))))),(0,i.kt)("tbody",{parentName:"table"},(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:"center"},(0,i.kt)("strong",{parentName:"td"},"Image Credits - ",(0,i.kt)("a",{parentName:"strong",href:"https://docs.spring.io/spring-batch/docs/current/reference/html/index-single.html#domainLanguageOfBatch"},"Figure 3. Batch Stereotypes")))))),(0,i.kt)("p",null,"Un ",(0,i.kt)("em",{parentName:"p"},"JobLauncher"),"` lance ",(0,i.kt)("strong",{parentName:"p"},"un")," ",(0,i.kt)("em",{parentName:"p"},"Job")," qui s'appuie sur ",(0,i.kt)("strong",{parentName:"p"},"une ou plusieurs")," ",(0,i.kt)("em",{parentName:"p"},"Step"),"."),(0,i.kt)("p",null,"L'ensemble de ces \xe9l\xe9ments communiquent avec un ",(0,i.kt)("em",{parentName:"p"},"JobRepository")," qui stocke les informations de traitement (",(0,i.kt)("em",{parentName:"p"},"metadata Spring Batch"),") en base de donn\xe9es (embarqu\xe9e par d\xe9faut)."),(0,i.kt)("h4",{id:"joblauncher"},"JobLauncher"),(0,i.kt)("p",null,"Le ",(0,i.kt)("em",{parentName:"p"},"JobLauncher")," est l'objet utilis\xe9 par ",(0,i.kt)("em",{parentName:"p"},"Spring")," pour lancer notre ",(0,i.kt)("em",{parentName:"p"},"Job")," "),(0,i.kt)("p",null,"Il sera auto configur\xe9 par l'annotation ",(0,i.kt)("inlineCode",{parentName:"p"},"@EnableBatchProcessing"),", qu'on placera de pr\xe9f\xe9rence sur la ",(0,i.kt)("em",{parentName:"p"},"classe")," de configuration globale, ou sur la ",(0,i.kt)("em",{parentName:"p"},"classe")," contenant la m\xe9thode ",(0,i.kt)("em",{parentName:"p"},"main"),"."),(0,i.kt)("h4",{id:"job"},"Job"),(0,i.kt)("p",null,"Le ",(0,i.kt)("em",{parentName:"p"},"bean Spring")," (annot\xe9 ",(0,i.kt)("inlineCode",{parentName:"p"},"@Bean"),") ",(0,i.kt)("em",{parentName:"p"},"Job")," sera l'objet \xe0 configurer pour ordonnancer les \xe9tapes (",(0,i.kt)("em",{parentName:"p"},"Step"),") de notre traitement."),(0,i.kt)("p",null,"Un ",(0,i.kt)("em",{parentName:"p"},"Job")," est d\xe9fini par 1..* ",(0,i.kt)("em",{parentName:"p"},"Step"),"."),(0,i.kt)("h4",{id:"step"},"Step"),(0,i.kt)("p",null,"Le ",(0,i.kt)("inlineCode",{parentName:"p"},"@Bean")," ",(0,i.kt)("em",{parentName:"p"},"Step")," sera l'objet \xe0 configurer pour d\xe9finir un traitement."),(0,i.kt)("p",null,"On peut distinguer deux approches s'appuyant sur diff\xe9rents outils pour d\xe9velopper une ",(0,i.kt)("em",{parentName:"p"},"Step")," :"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},"Approche par ",(0,i.kt)("em",{parentName:"p"},"Tasklet")),(0,i.kt)("ul",{parentName:"li"},(0,i.kt)("li",{parentName:"ul"},"Une tasklet repr\xe9sente une t\xe2che bien d\xe9finie (ex : V\xe9rifier la pr\xe9sence, ou le contenu d'un dossier en entr\xe9e, ...)"),(0,i.kt)("li",{parentName:"ul"},"Une ",(0,i.kt)("em",{parentName:"li"},"Step")," est compos\xe9e d'une seule ",(0,i.kt)("em",{parentName:"li"},"Tasklet")),(0,i.kt)("li",{parentName:"ul"},"L'enchainement des traitements au sein d'une ",(0,i.kt)("em",{parentName:"li"},"Tasklet")," se fait les unes apr\xe8s les autres"))),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},"Approche par ",(0,i.kt)("em",{parentName:"p"},"chunks")),(0,i.kt)("ul",{parentName:"li"},(0,i.kt)("li",{parentName:"ul"},"Traitement par lot (ex : X premi\xe8res lignes, puis X lignes suivantes, ...)"),(0,i.kt)("li",{parentName:"ul"},"Le traitement s'articule principalement autour de ",(0,i.kt)("em",{parentName:"li"},"Reader"),", ",(0,i.kt)("em",{parentName:"li"},"Processor"),", ",(0,i.kt)("em",{parentName:"li"},"Writer"))))),(0,i.kt)("h4",{id:"jobrepository"},"JobRepository"),(0,i.kt)("p",null,"L'ensemble de ces outils propre \xe0 ",(0,i.kt)("em",{parentName:"p"},"Spring Batch")," s'appuie sur un ",(0,i.kt)("em",{parentName:"p"},"JobRepository"),", il s'agit du ",(0,i.kt)("em",{parentName:"p"},"repository")," de lecture / \xe9criture de la grappe de ",(0,i.kt)("em",{parentName:"p"},"metadata")," (grappe qu'on verra plus tard dans le tutoriel).\nIl sera aussi auto configur\xe9 par l'annotation ",(0,i.kt)("inlineCode",{parentName:"p"},"@EnableBatchProcessing")),(0,i.kt)("div",{className:"admonition admonition-info alert alert--info"},(0,i.kt)("div",{parentName:"div",className:"admonition-heading"},(0,i.kt)("h5",{parentName:"div"},(0,i.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,i.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,i.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"}))),"Info")),(0,i.kt)("div",{parentName:"div",className:"admonition-content"},(0,i.kt)("ul",{parentName:"div"},(0,i.kt)("li",{parentName:"ul"},"Un glossaire expliquant chaque outils est disponible ",(0,i.kt)("a",{parentName:"li",href:"https://docs.spring.io/spring-batch/docs/current/reference/html/index-single.html#glossary"},"ici"),".")))),(0,i.kt)("h2",{id:"et-cest-parti-"},"Et c'est parti !"),(0,i.kt)("p",null,"Nous allons pouvoir attaquer les choses s\xe9rieuses ! Vous pouvez commencer \xe0 d\xe9piler les diff\xe9rentes parties de ce tutoriel."),(0,i.kt)("div",{className:"admonition admonition-caution alert alert--warning"},(0,i.kt)("div",{parentName:"div",className:"admonition-heading"},(0,i.kt)("h5",{parentName:"div"},(0,i.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,i.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},(0,i.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"}))),"Attention")),(0,i.kt)("div",{parentName:"div",className:"admonition-content"},(0,i.kt)("p",{parentName:"div"},"Ce tutoriel s'appuie sur la documentation officielle de ",(0,i.kt)("em",{parentName:"p"},"Spring Batch")," et sur l'exp\xe9rience relative d'une personne.\nDe ce fait, v\xe9rifiez toujours aupr\xe8s de votre r\xe9f\xe9rent technique les pratiques en vigueur dans votre milieu de d\xe9veloppement."))))}c.isMDXComponent=!0},48216:function(e,t,n){t.Z=n.p+"assets/images/spring_batch_diagram-7d97427273952cdef07a53c30fda43bc.png"}}]);